# 嵌入式与单片机

## 嵌入式

​	嵌入式一般指**嵌入式系统**，定义为：

​	*==嵌入式系统是以应用为中心，以现代计算机技术为基础，能够根据用户需求(功能、可靠性、成本、体积、功耗、环境等)灵活裁剪软硬件模块的专用计机系统。==*

​	要点概括：

​	**以应用为中心**：强调嵌入式系统的目标是满足用户的特定需求。就绝大多数完整的嵌入式系统而言，用户打开电源即可直接享用其功能，无需二次开发或仅需少量配置操作。  

​	**专用性**：嵌入式系统的应用场合大多对**可靠性、实时性**有较高要求，这就决定了**服务于特定应用的专用系统**是嵌入式系统的主流模式，它并不强调系统的通用性和可扩展。这种专用性通常也导致嵌入式系统是一个软硬件紧密集成的最终系统，因为这样才能更有效地提高整个系统的可靠性并降低成本，并使之具有更好的用户体验。 

​	**以现代计算机技术为核心**：嵌入式系统的最基本支撑技术，大致上包括**集成电路设计**技术、**系统结构**技术、**传感与检测**技术、**嵌入式操作系统和实时操作系统**技术、**资源受限系统的高可靠软件开发**技术、**系统形式化规范与验证**技术、**通信**技术、**低功耗**技术、**特定应用领域的数据**分析、**信号处理和控制优化**技术等，它们围绕计算机基本原理，集成进特定的专用设备就形成了一个嵌入式系统。 

​	**软硬件可裁剪**：嵌入式系统针对的应用场景如此之多，并带来差异性极大的设计指标要求(功能性能、可靠性、成本、功耗)，以至于现实上很难有一套方案满足所有的系统要求，*因此根据需求的不同，灵活裁剪软硬件、组建符合要求的最终系统是嵌入式技术发展的必然技术路线*。

​	

​	在嵌入式系统定义中使用了**专用计算机系统**这个词，而对应的就有**通过计算机系统**。我们常用的个人PC、笔记本电脑、数据中心服务器，可以用于多种用途，就是“通用计算机系统”。它与嵌入式系统不同可以执行很多功能，而嵌入式系统功能是比较专用，比如说：

- **家电类产品：**数字电视、扫地机器人、智能家电；
- **汽车电子类产品：**引擎控制、安全系统、汽车导航与娱乐系统；
- **军事及航天类产品：**无人机、雷达、作战机器人；
- **汽车电子类产品：**引擎控制、安全系统、汽车导航与娱乐系统

​	等这些专用的系统，开发者设置好了嵌入式系统的特定功能，用户就不需要进一步开发，因为比如说一个扫地机械人，它的功能就是单一的，而我们买它回来也不会想着对其功能拓展；

​	但虽然其功能单一，但是嵌入式系统是一个完整的计算机系统；





## 单片机

​	==单片机（Single-Chip Microcomputer）是一种**集成电路芯片**，是采用超大规模集成电路技术把具有数据处理能力的**中央处理器 CPU**、**随机存储器 RAM**、**只读存储器 ROM**、**多种I/O口和中断系统**、**定时器/计数器**等功能（可能还包括显示驱动电路、脉宽调制电路、模拟多路转换器、A/D转换器等电路）集成到一块硅片上构成的一个小而完善的**微型计算机系统**。==



​	 嵌入式系统的核心是嵌入式处理器。嵌入式处理器一般可以分为以下几种类型：

- **嵌入式微控制器MCU**（Micro Control Uint）
- **嵌入式DSP处理器**（Digital Signal Processor）
- **嵌入式微处理器MPU**（Micro Processor Uint）
- **嵌入式片上系统SoC**（System on Chip）
- **可编程片上系统SoPC**（System on a Programmable Chip）

​	而单片机其实属于第一种：嵌入式微控制器MCU；

​	

​	单片机中“单”字的含义其实是历史遗留问题，在多年之前，半导体技术落后，我们无法将CPU、RAM、ROM等部件都集成到一个芯片里面，而是需要多个芯片；单片机就是把这些部分全部集成到了一个芯片上，所以称为单片；



​	我们经常听说的51单片机与STM32单片机，它们主要区别是51单片机的cpu使用了intel的CISC架构，而STM32单片机的cpu使用了ARM Cortex-M内核的 RISC架构；





## 嵌入式与单片机的区别

​	从前文的介绍来看，嵌入式系统是一个大类，单片机是其中一个重要的子类。嵌入式系统像是一个完整的计算机，而单片机更像是一个没有外设的计算机。

​	以前单片机包括的东西并不算多，两者的硬件区别较为明显。但是，随着半导体技术的突飞猛进，现在各种硬件功能都能被做进单片机之中。所以，嵌入式系统和单片机之间的硬件区别越来越小，分界线也越来越模糊。

​	于是，人们倾向于在软件上进行区分。

​	从软件上，行业里经常把芯片中不带MMU（memory management unit，内存管理单元）从而不支持虚拟地址，只能裸奔或运行RTOS（实时操作系统，例如ucos、华为LiteOS、RT-Thread、freertos等）的system，叫做单片机（如STM32、NXP LPC系列、NXP imxRT1052系列等）。而把芯片自带MMU可以支持虚拟地址，能够跑Linux、Vxworks、WinCE、Android这样的“高级”操作系统的system，叫做嵌入式。